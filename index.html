<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ইন্টারেক্টিভ স্টুডেন্ট গ্রেড ক্যালকুলেটর</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals (Stone background, white cards, teal accent) -->
    <!-- Application Structure Plan: A three-part SPA design. 1) Introduction. 2) An interactive demo comparing 'before' and 'after' student data side-by-side, triggered by a button, along with a chart for analysis. 3) A tabbed section to compare different JS methods (for, forEach, map). This structure is chosen to guide the user from understanding the problem to seeing the solution interactively and finally exploring alternative solutions, which is a strong pedagogical flow for a learning tool. -->
    <!-- Visualization & Content Choices: Report Info: Student data (name, roll, marks). Goal: Inform/Compare. Viz: HTML cards for individual student data (before/after) for clarity. Interaction: A 'Calculate' button triggers the grading and result display. Report Info: Grade distribution. Goal: Compare/Analyze. Viz: Chart.js Bar Chart to show grade counts. Justification: A bar chart provides an immediate visual summary of the overall outcome. Report Info: Alternative coding methods. Goal: Organize/Inform. Viz: Tabbed interface to display code snippets. Justification: Tabs are a standard, space-efficient way to compare related blocks of content. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Hind Siliguri', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .tab-active {
            border-color: #0d9488;
            color: #0d9488;
            background-color: #f0fdfa;
        }
        .tab-inactive {
            border-color: transparent;
            color: #52525b;
        }
        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8">

        <header class="text-center mb-10">
            <h1 class="text-3xl md:text-4xl font-bold text-teal-700 mb-2">ইন্টারেক্টিভ গ্রেড ক্যালকুলেটর</h1>
            <p class="text-base md:text-lg text-stone-600 max-w-3xl mx-auto">এই অ্যাপ্লিকেশনটি জাভাস্ক্রিপ্ট ব্যবহার করে শিক্ষার্থীদের নম্বর থেকে গ্রেড নির্ধারণের প্রক্রিয়াটি প্রদর্শন করে। আপনি ইন্টারেক্টিভভাবে দেখতে পারবেন কিভাবে ডেটা প্রসেস করা হয় এবং বিভিন্ন কোডিং পদ্ধতির মধ্যে পার্থক্য কী।</p>
        </header>

        <main>
            <section id="interactive-demo" class="mb-12">
                <h2 class="text-2xl font-bold text-center mb-8 text-teal-600">ইন্টারেক্টিভ ডেমো</h2>
                
                <div class="text-center mb-8">
                    <button id="calculate-btn" class="bg-teal-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-teal-700 transition-all duration-300 transform hover:scale-105">
                        গ্রেড গণনা করুন
                    </button>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-center">প্রাথমিক ডেটা (গণনার আগে)</h3>
                        <div id="initial-data-container" class="space-y-3">
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-center">ফলাফল (গণনার পরে)</h3>
                        <div id="result-data-container" class="space-y-3 bg-teal-50 p-4 rounded-lg min-h-[200px]">
                            <p class="text-stone-500 text-center pt-16">গ্রেড গণনা করতে উপরের বাটনে ক্লিক করুন।</p>
                        </div>
                    </div>
                </div>
                
                <div id="chart-section" class="mt-12 hidden">
                    <h3 class="text-xl font-semibold mb-4 text-center">গ্রেড বন্টন বিশ্লেষণ</h3>
                    <div class="chart-container bg-white p-4 rounded-lg shadow-md">
                        <canvas id="grade-chart"></canvas>
                    </div>
                </div>
            </section>

            <hr class="my-12 border-stone-200">

            <section id="alternative-methods">
                <h2 class="text-2xl font-bold text-center mb-8 text-teal-600">বিকল্প কোডিং পদ্ধতি</h2>
                <p class="text-center text-stone-600 max-w-2xl mx-auto mb-8">একই কাজ করার জন্য জাভাস্ক্রিপ্টে একাধিক উপায় রয়েছে। নিচে তিনটি জনপ্রিয় পদ্ধতির কোড এবং তাদের সুবিধা আলোচনা করা হলো।</p>
                
                <div class="max-w-3xl mx-auto bg-white rounded-lg shadow-lg">
                    <div class="border-b border-stone-200">
                        <nav class="flex -mb-px" aria-label="Tabs">
                            <button id="tab-for" class="tab-btn flex-1 py-4 px-1 border-b-2 font-medium text-sm md:text-base">For Loop</button>
                            <button id="tab-forEach" class="tab-btn flex-1 py-4 px-1 border-b-2 font-medium text-sm md:text-base">forEach()</button>
                            <button id="tab-map" class="tab-btn flex-1 py-4 px-1 border-b-2 font-medium text-sm md:text-base">map()</button>
                        </nav>
                    </div>
                    <div id="code-content" class="p-6">
                    </div>
                </div>
            </section>

        </main>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const initialStudents = [
                { name: 'A', roll: 101, marks: 85 },
                { name: 'B', roll: 102, marks: 72 },
                { name: 'C', roll: 103, marks: 59 },
                { name: 'D', roll: 104, marks: 45 },
                { name: 'E', roll: 105, marks: 30 }
            ];

            const initialDataContainer = document.getElementById('initial-data-container');
            const resultDataContainer = document.getElementById('result-data-container');
            const calculateBtn = document.getElementById('calculate-btn');
            const chartSection = document.getElementById('chart-section');
            let gradeChart = null;
            
            const codeSnippets = {
                for: {
                    desc: 'এটি জাভাস্ক্রিপ্টের সবচেয়ে মৌলিক এবং পুরনো লুপ। এটি অ্যারের প্রতিটি উপাদানের উপর দিয়ে ক্রমানুসারে কাজ করে। নতুন ডেভেলপারদের জন্য এটি বোঝা সহজ।',
                    code: `for (let i = 0; i < students.length; i++) {\n  let student = students[i];\n  let grade;\n\n  if (student.marks >= 80) {\n    grade = 'A+';\n  } else if (student.marks >= 70) {\n    grade = 'A';\n  } else if (student.marks >= 60) {\n    grade = 'A-';\n  } else if (student.marks >= 50) {\n    grade = 'B';\n  } else if (student.marks >= 40) {\n    grade = 'C';\n  } else {\n    grade = 'Fail';\n  }\n\n  student.grade = grade;\n}`
                },
                forEach: {
                    desc: '`forEach()` একটি আধুনিক এবং সংক্ষিপ্ত পদ্ধতি। এটি কোডকে আরও পাঠযোগ্য করে তোলে। এটি মূল অ্যারের প্রতিটি উপাদানের উপর একটি ফাংশন চালায় কিন্তু কোনো নতুন অ্যারে তৈরি করে না।',
                    code: `students.forEach(student => {\n    let grade;\n    if (student.marks >= 80) {\n        grade = 'A+';\n    } else if (student.marks >= 70) {\n        grade = 'A';\n    } else if (student.marks >= 60) {\n        grade = 'A-';\n    } else if (student.marks >= 50) {\n        grade = 'B';\n    } else if (student.marks >= 40) {\n        grade = 'C';\n    } else {\n        grade = 'Fail';\n    }\n    student.grade = grade;\n});`
                },
                map: {
                    desc: '`map()` পদ্ধতিটি সবচেয়ে কার্যকর বলে মনে করা হয় কারণ এটি মূল অ্যারে পরিবর্তন না করে একটি নতুন অ্যারে তৈরি করে। এটি ডেটার অপরিবর্তনীয়তা (immutability) বজায় রাখে, যা একটি ভালো প্রোগ্রামিং অভ্যাস।',
                    code: `const newStudents = students.map(student => {\n    let grade;\n    if (student.marks >= 80) {\n        grade = 'A+';\n    } else if (student.marks >= 70) {\n        grade = 'A';\n    } else if (student.marks >= 60) {\n        grade = 'A-';\n    } else if (student.marks >= 50) {\n        grade = 'B';\n    } else if (student.marks >= 40) {\n        grade = 'C';\n    } else {\n        grade = 'Fail';\n    }\n    return { ...student, grade };\n});`
                }
            };

            const renderStudentCard = (student, isResult = false) => {
                const gradeColor = {
                    'A+': 'bg-green-100 text-green-800',
                    'A': 'bg-blue-100 text-blue-800',
                    'A-': 'bg-cyan-100 text-cyan-800',
                    'B': 'bg-indigo-100 text-indigo-800',
                    'C': 'bg-yellow-100 text-yellow-800',
                    'Fail': 'bg-red-100 text-red-800'
                };

                return `
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-stone-200 flex justify-between items-center">
                        <div>
                            <p class="font-bold text-stone-800">${student.name}</p>
                            <p class="text-sm text-stone-500">রোল: ${student.roll} | নম্বর: ${student.marks}</p>
                        </div>
                        ${isResult ? `<span class="text-sm font-bold px-3 py-1 rounded-full ${gradeColor[student.grade] || ''}">${student.grade}</span>` : ''}
                    </div>
                `;
            };

            const renderInitialData = () => {
                initialDataContainer.innerHTML = initialStudents.map(s => renderStudentCard(s)).join('');
            };
            
            const getGrade = (marks) => {
                if (marks >= 80) return 'A+';
                if (marks >= 70) return 'A';
                if (marks >= 60) return 'A-';
                if (marks >= 50) return 'B';
                if (marks >= 40) return 'C';
                return 'Fail';
            };

            calculateBtn.addEventListener('click', () => {
                const studentsWithGrades = initialStudents.map(student => {
                    return { ...student, grade: getGrade(student.marks) };
                });

                resultDataContainer.innerHTML = studentsWithGrades.map(s => renderStudentCard(s, true)).join('');
                
                chartSection.classList.remove('hidden');
                renderChart(studentsWithGrades);
                calculateBtn.textContent = 'পুনরায় গণনা করুন';
            });

            const renderChart = (data) => {
                const gradeCounts = data.reduce((acc, student) => {
                    acc[student.grade] = (acc[student.grade] || 0) + 1;
                    return acc;
                }, {});
                
                const sortedGrades = ['A+', 'A', 'A-', 'B', 'C', 'Fail'];
                const chartLabels = sortedGrades.filter(grade => gradeCounts[grade]);
                const chartData = chartLabels.map(grade => gradeCounts[grade]);

                const ctx = document.getElementById('grade-chart').getContext('2d');
                if (gradeChart) {
                    gradeChart.destroy();
                }
                gradeChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: chartLabels,
                        datasets: [{
                            label: 'শিক্ষার্থীর সংখ্যা',
                            data: chartData,
                            backgroundColor: [
                                'rgba(34, 197, 94, 0.6)',
                                'rgba(59, 130, 246, 0.6)',
                                'rgba(20, 184, 166, 0.6)',
                                'rgba(99, 102, 241, 0.6)',
                                'rgba(234, 179, 8, 0.6)',
                                'rgba(239, 68, 68, 0.6)'
                            ],
                            borderColor: [
                                'rgba(34, 197, 94, 1)',
                                'rgba(59, 130, 246, 1)',
                                'rgba(20, 184, 166, 1)',
                                'rgba(99, 102, 241, 1)',
                                'rgba(234, 179, 8, 1)',
                                'rgba(239, 68, 68, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    stepSize: 1
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `শিক্ষার্থী: ${context.raw}`;
                                    }
                                }
                            }
                        }
                    }
                });
            };
            
            const tabButtons = document.querySelectorAll('.tab-btn');
            const codeContentContainer = document.getElementById('code-content');

            const switchTab = (tabId) => {
                tabButtons.forEach(btn => {
                    if (`tab-${tabId}` === btn.id) {
                        btn.classList.add('tab-active');
                        btn.classList.remove('tab-inactive');
                    } else {
                        btn.classList.remove('tab-active');
                        btn.classList.add('tab-inactive');
                    }
                });

                const content = codeSnippets[tabId];
                codeContentContainer.innerHTML = `
                    <p class="text-stone-600 mb-4">${content.desc}</p>
                    <pre class="bg-stone-100 text-stone-800 p-4 rounded-md text-sm leading-relaxed"><code class="language-js">${content.code}</code></pre>
                `;
            };

            tabButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const tabId = btn.id.replace('tab-', '');
                    switchTab(tabId);
                });
            });

            renderInitialData();
            switchTab('for');
        });
    </script>
</body>
</html>
<!--
    This HTML file is structured to provide an interactive student grade calculator using JavaScript.
    It includes sections for an introduction, an interactive demo, and a comparison of different coding methods.
    The design uses Tailwind CSS for styling and Chart.js for visualizing grade distributions.